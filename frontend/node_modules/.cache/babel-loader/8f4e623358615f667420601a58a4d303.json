{"remainingRequest":"/Users/czw/Downloads/AnimaPackage-Vue-1erFb/node_modules/babel-loader/lib/index.js!/Users/czw/Downloads/AnimaPackage-Vue-1erFb/src/screens/ws.js?vue&type=script&lang=js&external","dependencies":[{"path":"/Users/czw/Downloads/AnimaPackage-Vue-1erFb/src/screens/ws.js","mtime":1701356908966},{"path":"/Users/czw/Downloads/AnimaPackage-Vue-1erFb/node_modules/cache-loader/dist/cjs.js","mtime":1701341807081},{"path":"/Users/czw/Downloads/AnimaPackage-Vue-1erFb/node_modules/babel-loader/lib/index.js","mtime":1701341806847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBjb25zdCBtaXhpbldlYnNvY2tldCA9IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd3M6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoWydzZXRXc05vdGlmeSddKSwKICAgIC8v5Yid5aeLd2Vic29ja2V0CiAgICBpbml0V2Vic29ja2V0KCkgewogICAgICBsZXQgd3NVUkwgPSBgd3M6Ly9sb2NhbGhvc3Q6ODc2NWA7CiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVVJMKTsgLy/lu7rnq4vpgKPnt5oKICAgICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLndlYnNvY2tldG9ub3BlbjsKICAgICAgdGhpcy53cy5lcnJvciA9IHRoaXMud2Vic29ja2V0b25lcnJvcjsKICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSB0aGlzLndlYnNvY2tldG9ubWVzc2FnZTsKICAgICAgdGhpcy53cy5vbmNsb3NlID0gdGhpcy53ZWJzb2NrZXRjbG9zZTsKICAgIH0sCiAgICB3ZWJzb2NrZXRvbm9wZW4oKSB7CiAgICAgIGNvbnNvbGUubG9nKCd3cyDpgKPnt5rmiJDlip9+ficpOwogICAgfSwKICAgIHdlYnNvY2tldG9uZXJyb3IoZSkgewogICAgICBjb25zb2xlLmVycm9yKCd3cyDpgKPnt5rlpLHmlZcnLCBlKTsKICAgIH0sCiAgICB3ZWJzb2NrZXRvbm1lc3NhZ2UoZSkgewogICAgICAvLyDlvoznq6/pgJrnn6XliY3nq6/vvIzliY3nq6/lj5blvpfos4fmlpkKICAgICAgbGV0IF9kYXRhID0gZS5kYXRhOwogICAgICAvL+eVtuacieW+jOerr+izh+aWmemAgeWIsOWJjeerr++8jOWIqeeUqHZ1ZXjlrZjliLDlhbHnlKjnmoRzdGF0ZQogICAgICB0aGlzLnNldFdzTm90aWZ5KHsKICAgICAgICBpZDogdXVpZC52NCgpLAogICAgICAgIGRhdGE6IEpTT04ucGFyc2UoX2RhdGEpCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygnd3Mg5Y+W5b6X6LOH5paZJywgX2RhdGEpOwogICAgfSwKICAgIHdlYnNvY2tldHNlbmQoZGF0YSkgewogICAgICAvL+WJjeerr+S4n+izh+aWmQogICAgICBjb25zb2xlLmxvZygnc2VuZCBkYXRhJywgZGF0YSk7CiAgICB9LAogICAgd2Vic29ja2V0Y2xvc2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCd3cyDpl5zplonpgKPnt5onKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapMutations","mixinWebsocket","data","ws","methods","initWebsocket","wsURL","WebSocket","onopen","websocketonopen","error","websocketonerror","onmessage","websocketonmessage","onclose","websocketclose","console","log","e","_data","setWsNotify","id","uuid","v4","JSON","parse","websocketsend"],"sources":["/Users/czw/Downloads/AnimaPackage-Vue-1erFb/src/screens/ws.js"],"sourcesContent":["import { mapMutations } from 'vuex';\nexport const mixinWebsocket = {\n    data(){\n        return{\n            ws: null,\n        }\n    },\n    methods:{\n         ...mapMutations(['setWsNotify']),\n        //初始websocket\n        initWebsocket(){\n            let wsURL = `ws://localhost:8765`;\n            this.ws = new WebSocket(wsURL); //建立連線\n            this.ws.onopen = this.websocketonopen;\n            this.ws.error = this.websocketonerror;\n            this.ws.onmessage = this.websocketonmessage;\n            this.ws.onclose = this.websocketclose;\n        },\n        websocketonopen(){\n            console.log('ws 連線成功~~');\n        },\n        websocketonerror(e){\n            console.error('ws 連線失敗',e);\n        },\n        websocketonmessage(e){\n            // 後端通知前端，前端取得資料\n            let _data = e.data;\n            //當有後端資料送到前端，利用vuex存到共用的state\n            this.setWsNotify({\n                id:uuid.v4(), \n                data: JSON.parse(_data)\n            });\n            console.log('ws 取得資料',_data);\n        },\n        websocketsend(data){\n            //前端丟資料\n            console.log('send data',data);\n        },\n        websocketclose(){\n            console.log('ws 關閉連線')\n        }\n    }\n}"],"mappings":"AAAA,SAASA,YAAY,QAAQ,MAAM;AACnC,OAAO,MAAMC,cAAc,GAAG;EAC1BC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,EAAE,EAAE;IACR,CAAC;EACL,CAAC;EACDC,OAAO,EAAC;IACH,GAAGJ,YAAY,CAAC,CAAC,aAAa,CAAC,CAAC;IACjC;IACAK,aAAaA,CAAA,EAAE;MACX,IAAIC,KAAK,GAAI,qBAAoB;MACjC,IAAI,CAACH,EAAE,GAAG,IAAII,SAAS,CAACD,KAAK,CAAC,CAAC,CAAC;MAChC,IAAI,CAACH,EAAE,CAACK,MAAM,GAAG,IAAI,CAACC,eAAe;MACrC,IAAI,CAACN,EAAE,CAACO,KAAK,GAAG,IAAI,CAACC,gBAAgB;MACrC,IAAI,CAACR,EAAE,CAACS,SAAS,GAAG,IAAI,CAACC,kBAAkB;MAC3C,IAAI,CAACV,EAAE,CAACW,OAAO,GAAG,IAAI,CAACC,cAAc;IACzC,CAAC;IACDN,eAAeA,CAAA,EAAE;MACbO,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IAC5B,CAAC;IACDN,gBAAgBA,CAACO,CAAC,EAAC;MACfF,OAAO,CAACN,KAAK,CAAC,SAAS,EAACQ,CAAC,CAAC;IAC9B,CAAC;IACDL,kBAAkBA,CAACK,CAAC,EAAC;MACjB;MACA,IAAIC,KAAK,GAAGD,CAAC,CAAChB,IAAI;MAClB;MACA,IAAI,CAACkB,WAAW,CAAC;QACbC,EAAE,EAACC,IAAI,CAACC,EAAE,CAAC,CAAC;QACZrB,IAAI,EAAEsB,IAAI,CAACC,KAAK,CAACN,KAAK;MAC1B,CAAC,CAAC;MACFH,OAAO,CAACC,GAAG,CAAC,SAAS,EAACE,KAAK,CAAC;IAChC,CAAC;IACDO,aAAaA,CAACxB,IAAI,EAAC;MACf;MACAc,OAAO,CAACC,GAAG,CAAC,WAAW,EAACf,IAAI,CAAC;IACjC,CAAC;IACDa,cAAcA,CAAA,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IAC1B;EACJ;AACJ,CAAC"}]}